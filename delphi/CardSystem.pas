Unit CardSystem;

Interface

Type
    TCardType = (CtProfession, CtBiology, CtHealth, CtHobby, CtLuggage,
        CtFacts);

    TCard = Record
        ID: Integer;
        Title: String;
        Description: String;
    End;

    TCatastrophe = Record
        Title: String;
        Description: String;
    End;

    TBunkerSituation = Record
        Title: String;
        Description: String;
    End;

    TPlayerCount = 4 .. 16;

    TGameSetup = Record
        Seed: Integer;
        Players: TPlayerCount;
        Cards: Array [TCardType] Of Array Of TCard;
        Catastrophe: TCatastrophe;
        BunkerSituations: Array Of TBunkerSituation;
    End;

Procedure GenerateGameSetup(Var Setup: TGameSetup; Seed: Integer;
    Players: TPlayerCount);

Implementation

Const
    CARD_POOL_SIZES: Array [TCardType] Of Integer = ( //
        49, // Ïðîôåññèè
        32, // Áèîëîãèÿ
        30, // Çäîðîâüå
        30, // Õîááè
        30, // Áàãàæ
        45 // Ôàêòû
        );

    PROFESSIONS: ARRAY [0 .. 48] OF STRING = ('ÝÊÑÒÐÀÑÅÍÑ', 'ÏÎÆÀÐÍÛÉ',
        'ÏÎËÈÖÅÉÑÊÈÉ', 'ÀÄÂÎÊÀÒ', 'ÌÅÄÑÅÑÒÐÀ', 'ÃÎÌÅÎÏÀÒ', 'ÔÅÐÌÅÐ', 'ÈÑÒÎÐÈÊ',
        'ÊÎÓ×', 'ÏÑÈÕÎËÎÃ', 'ÏÐÎÄÀÂÅÖ', 'ÏÎÂÀÐ', 'ÆÓÐÍÀËÈÑÒ', 'ÝÊÎËÎÃ',
        'ÐÀÇÍÎÐÀÁÎ×ÈÉ', 'ÑÒÐÎÈÒÅËÜ', 'ÕÈÐÓÐÃ', 'ÁÈÎËÎÃ', 'ÂÎÅÍÍÛÉ',
        'ÐÎÁÎÒÎÒÅÕÍÈÊ', 'ÏÅÐÅÂÎÄ×ÈÊ', 'ÝËÅÊÒÐÈÊ', 'ÑÒÎÌÀÒÎËÎÃ', 'ÔÈÇÈÊ',
        'ÀÂÒÎÌÅÕÀÍÈÊ', 'ÝÒÍÎÃÐÀÔ', 'ÁÐÀÊÎÍÜÅÐ', 'ÏÐÎÃÐÀÌÌÈÑÒ', 'ËÅÒ×ÈÊ-ÈÍÆÅÍÅÐ',
        'ÂÈÐÓÑÎËÎÃ', 'ÌÀÐÊÅÒÎËÎÃ', 'ÄÅÒÅÊÒÈÂ', 'ÏÈÑÀÒÅËÜ', 'ÕÀÊÅÐ', 'ÀÐÕÅÎËÎÃ',
        'ÑÏÅÖÀÃÅÍÒ', 'ÇÍÀÕÀÐÜ', 'ÕÈÌÈÊ', 'ÄÈÇÀÉÍÅÐ', 'ÂÈÄÅÎÈÍÆÅÍÅÐ',
        'ÃÐÀÁÈÒÅËÜ', 'ÑÓÄÜß', 'ÝÊÑÊÓÐÑÎÂÎÄ', 'ÌÎÄÅËÜ', 'ÄÎÌÎÕÎÇßÉÊÀ', 'ËÅÑÍÈÊ',
        'ÏÀÏÀÐÀÖÖÈ', 'ÔÈËÎÑÎÔ', 'ÒÀÒÓ-ÌÀÑÒÅÐ');

    BIOLOGY: ARRAY [0 .. 31] OF STRING = ('ÌÓÆ×ÈÍÀ 55 ËÅÒ', 'ÆÅÍÙÈÍÀ 50 ËÅÒ',
        'ÌÓÆ×ÈÍÀ 23 ÃÎÄÀ ÃÎÌÎÑÅÊÑÓÀËÅÍ', 'ÊÎÒÃÅÍÄÅÐ',
        'ÆÅÍÙÈÍÀ 39 ËÅÒ ÃÎÌÎÑÅÊÑÓÀËÜÍÀ', 'ÆÅÍÙÈÍÀ 34 ÃÎÄÀ',
        'ÌÓÆ×ÈÍÀ 24 ÃÎÄÀ ÁÈÑÅÊÑÓÀËÅÍ', 'ÆÅÍÙÈÍÀ 24 ÃÎÄÀ', 'ÌÓÆ×ÈÍÀ 101 ÃÎÄ',
        'ÆÅÍÙÈÍÀ 27 ËÅÒ', 'ÌÓÆ×ÈÍÀ 18 ËÅÒ', 'ÌÓÆ×ÈÍÀ 27 ËÅÒ ÃÎÌÎÑÅÊÑÓÀËÅÍ',
        'ÆÅÍÙÈÍÀ 99 ËÅÒ', 'ÀÍÄÐÎÈÄ', 'ÌÓÆ×ÈÍÀ 45 ËÅÒ', 'ÌÓÆ×ÈÍÀ 29 ËÅÒ',
        'ÆÅÍÙÈÍÀ 30 ËÅÒ', 'ÌÓÆ×ÈÍÀ 26 ËÅÒ', 'ÆÅÍÙÈÍÀ 19 ËÅÒ ÃÎÌÎÑÅÊÑÓÀËÜÍÀ',
        'ÌÓÆ×ÈÍÀ 35 ËÅÒ', 'ÆÅÍÙÈÍÀ 65 ËÅÒ', 'ÆÅÍÙÈÍÀ 18 ËÅÒ',
        'ÆÅÍÙÈÍÀ 22 ÃÎÄÀ ÁÈÑÅÊÑÓÀËÜÍÀ', 'ÌÓÆ×ÈÍÀ 30 ËÅÒ', 'ÆÅÍÙÈÍÀ 31 ÃÎÄ',
        'ÃÅÐÌÀÔÐÎÄÈÒ 30 ËÅÒ', 'ÆÅÍÙÈÍÀ 21 ÃÎÄ', 'ÌÓÆ×ÈÍÀ 42 ÃÎÄÀ ÃÎÌÎÑÅÊÑÓÀËÅÍ',
        'ÌÓÆ×ÈÍÀ 75 ËÅÒ', 'ÃÓÌÀÍÎÈÄ', 'ÌÓÆ×ÈÍÀ 33 ÃÎÄÀ',
        'ÆÅÍÙÈÍÀ 33 ÃÎÄÀ ÃÎÌÎÑÅÊÑÓÀËÜÍÀ');

    HEALTH: ARRAY [0 .. 29] OF STRING = ('ÂÀÌÏÈÐ', 'ÑËÅÏÎÉ', 'ÇÀÈÊÀ',
        'ÒÐÅÌÎÐ ÐÓÊ', 'ÑÓÈÖÈÄÀËÜÍÛÅ ÌÛÑËÈ', 'ÃÀËËÞÖÈÍÀÖÈÈ', 'ÊÀÐËÈÊ',
        'ÇÀÂÈÑÈÌÎÑÒÜ ÎÒ ÍÀÐÊÎÒÈÊÎÂ', 'ÏÎÂÛØÅÍÍÀß ÂÎËÎÑÀÒÎÑÒÜ', 'ÑÊËÅÐÎÇ',
        'ÀËÊÎÃÎËÈÇÌ', 'ÃÈÃÀÍÒÈÇÌ', 'ËÓÍÀÒÈÇÌ', 'ÐÀÇÄÂÎÅÍÈÅ ËÈ×ÍÎÑÒÈ',
        'ÊÎÔÅÉÍÀß ÇÀÂÈÑÈÌÎÑÒÜ', 'ÄÅÏÐÅÑÑÈß', 'ÏÎÒÅÐß ÎÁÎÍßÍÈß',
        'ÈÄÅÀËÜÍÎ ÇÄÎÐÎÂ', 'ÁÅÑÏËÎÄÈÅ', 'ÍÅ ÎÁÑËÅÄÎÂÀËÑß', 'ÕÂÎÑÒ',
        'ÌÀÍÈß ÏÐÅÑËÅÄÎÂÀÍÈß', 'ÀËÜÖÃÅÉÌÅÐ', 'ÌÈÃÐÅÍÜ', 'ÊËÅÏÒÎÌÀÍÈß', 'ÃËÓÕÎÉ',
        'ÂÈ×', 'ÍÅÒ ÍÎÃÈ', 'ÐÎÃÀ', 'ÈÃÐÎÂÀß ÇÀÂÈÑÈÌÎÑÒÜ');

    HOBBIES: ARRAY [0 .. 29] OF STRING = ('ÌÅÄÈÒÀÖÈß', 'ÊÈÍÎ È ÑÅÐÈÀËÛ',
        'ËÞÁÈÒÅËÜÑÊÀß ÐÀÄÈÎÑÂßÇÜ', 'ÑÏÎÐÒÈÂÍÛÅ ÒÀÍÖÛ', 'ÎÕÎÒÀ È ÐÛÁÀËÊÀ',
        'ÏÀÐÊÓÐ', 'ÔËÓÄÈÒÜ Â ×ÀÒÀÕ', 'ÐÀÑÊÐÀØÈÂÀÍÈÅ ÌÀÍÄÀË',
        'ÍÅÒÐÀÄÈÖÈÎÍÍÀß ÌÅÄÈÖÈÍÀ', 'ÁÎÅÂÛÅ ÈÑÊÓÑÑÒÂÀ', 'ÑÏËÅÒÍÈ',
        'ÕÎËÎÄÍÎÅ ÎÐÓÆÈÅ', '×ÅÐÍÀß ÌÀÃÈß', 'ÄÀ×ÍÈÊ', 'ÊÐÀÅÂÅÄÅÍÈÅ',
        'ÏÈÂÎÂÀÐÅÍÈÅ', 'ÃÎÒÎÂÊÀ', 'ÍÀÑÒÎËÜÍÛÅ ÈÃÐÛ', 'ÃÐÈÁÛ È ÃÎÌÅÎÏÀÒÈß',
        'ÑÎÂÐÅÌÅÍÍÎÅ ÈÑÊÓÑÑÒÂÎ', 'ÏÈÐÎÒÅÕÍÈÊÀ', 'ÃÈÄÐÎÏÎÍÈÊÀ', 'ÇÎÆ',
        'ÐÎÁÎÒÎÒÅÕÍÈÊÀ', 'ÍÅÒ ÕÎÁÁÈ', 'ÃÀÄÀÍÈÅ ÍÀ ÒÀÐÎ', 'ÃÂÎÇÄÅÑÒÎßÍÈÅ',
        'ÀËÕÈÌÈß', 'ÊÎÌÏÜÞÒÅÐÍÛÅ ÈÃÐÛ', 'ÓÔÎËÎÃÈß È ÌÈÑÒÈÊÀ');

    LUGGAGE: ARRAY [0 .. 29] OF STRING = ('ËÓÊ È ÑÒÐÅËÛ', 'ÍÀÁÎÐ ÎÒÌÛ×ÅÊ',
        'ÍÀÑÒÎËÜÍÛÅ ÈÃÐÛ', 'ÌÈËËÈÎÍ ÄÎËËÀÐÎÂ', 'ÍÀÄÓÂÍÀß ÊÓÊËÀ',
        'ÍÎÆÈ ÄËß ÌÅÒÀÍÈß', '×ÅÌÎÄÀÍ×ÈÊ ÔÅËÜÄØÅÐÀ',
        'ÑÀÆÅÍÖÛ ÔÐÓÊÒÎÂÛÕ ÄÅÐÅÂÜÅÂ', 'ÊÎÒßÒÀ', 'ÊÎÌÏÀÑ È ÊÀÐÒÀ ÎÊÐÅÑÒÍÎÑÒÅÉ',
        'ßÉÖÀ È ÈÍÊÓÁÀÒÎÐ', 'ÏÈÑÒÎËÅÒ', 'ÍÎÓÒÁÓÊ È ÍÀÁÎÐ ÕÀÊÅÐÀ',
        'ÄÅÔÈÁÐÈËËßÒÎÐ', 'ÇÂÓÊÎÂÀß ÎÒÂÅÐÒÊÀ', 'ÏÐÈÁÎÐ ÍÎ×ÍÎÃÎ ÂÈÄÅÍÈß',
        'ÊÓÊËÀ ÂÓÄÓ', 'ÊÎÇÀ È ÊÎÇ¨Ë', 'ÌÅØÎÊ ÇÅÐÍÀ', 'ÑÍÀÉÏÅÐÑÊÀß ÂÈÍÒÎÂÊÀ',
        'ÃÈÒÀÐÀ', 'ÌÅØÎÊ ÊÀÐÒÎØÊÈ', 'ÝÍÖÈÊËÎÏÅÄÈß ÃÐÈÁÍÈÊÀ',
        'ÏÅÐÅÍÎÑÍÀß ÝËÅÊÒÐÎÑÒÀÍÖÈß', 'ØÀÏÎ×ÊÀ ÈÇ ÔÎËÜÃÈ',
        'ÑÒÎËßÐÍÛÅ ÈÍÑÒÐÓÌÅÍÒÛ', 'ÀÍÒÈÁÈÎÒÈÊÈ', 'ÑÏÈÐÈÒÈ×ÅÑÊÀß ÄÎÑÊÀ',
        'ÊÀÏÊÀÍÛ È ÍÀÁÎÐ ßÄÎÂ', 'ÈÍÑÒÐÓÌÅÍÒÛ ÝËÅÊÒÐÈÊÀ');

    FACTS: ARRAY [0 .. 44] OF STRING = ('ÄÅÐÆÀË ÄÎÌÀ 40 ÊÎØÅÊ',
        'ÏÎÁÅÄÈÒÅËÜ ÏÀÐÀÎËÈÌÏÈÉÑÊÈÕ ÈÃÐ', 'ÏÑÈÕÎÏÀÒ', 'ÇÀÏÓÑÒÈË ÑÒÀÐÒÀÏ',
        'ÒÅËÅÏÀÒ', 'ÌÀÍÜßÊ-ÓÁÈÉÖÀ', 'ÑÒÐÎÈË ÏÎÄÎÁÍÛÅ ÁÓÍÊÅÐÛ',
        'ÂÇËÎÌÀË ÁÀÇÓ ÄÀÍÍÛÕ ÖÐÓ', 'ÂÛÐÎÑ Â ÑÅÌÜÅ ËÅÑÍÈÊÀ',
        'ÎÁËÀÄÀÒÅËÜ ÓÍÈÊÀËÜÍÎÉ ÑÎÏÐÀÍÎ', '×ÈÒÀË ÂÑÅ ÊÍÈÃÈ ËÀÂÊÐÀÔÒÀ',
        'ÏÎÍÈÌÀÅÒ ßÇÛÊ ÆÈÂÎÒÍÛÕ', 'ÐÀÇÃÎÂÀÐÈÂÀÅÒ Ñ ÄÓÕÀÌÈ',
        'ÇÍÀÅÒ ÀÇÁÓÊÓ ÌÎÐÇÅ', 'ÎÑÒÀËÑß Â ÆÈÂÛÕ ÍÀ ÍÅÎÁÈÒÀÅÌÎÌ ÎÑÒÐÎÂÅ',
        'ÃÐßÇÍÎ ÐÓÃÀÅÒÑß', 'ÎÒ×ÈÑËÅÍ ÈÇ ÊËÓÁÀ ÍÀÂÛÊÈ ÂÛÆÈÂÀÍÈß', 'ÇÀÍÓÄÀ',
        'ÈÑÒÅÐÈ×ÍÛÉ', 'ÍÅ ÏÓÑÊÀÞÒ Â ÊÀÇÈÍÎ', 'ÑÏËÅÒÍÈÊ',
        'ÏÐÎØ¨Ë ÊÓÐÑÛ ÏÑÈÕÎËÎÃÀ', 'ÏÈØÈÅÒ Ñ ÀØÈÏÊÀÌÈ', 'ÂËÀÄÅÅÒ 5 ßÇÛÊÀÌÈ',
        'ÇÍÀÅÒ ÏÐÅÇÈÄÅÍÒÀ ËÈ×ÍÎ', 'ÂÈÄÅË ÈÍÎÏËÀÍÅÒßÍ', 'ÏÐÎÄÀË ÏÎ×ÊÓ',
        'ÒÎËÜÊÎ ÈÇ Î×ÀÃÀ ÝÏÈÄÅÌÈÈ', 'ÇÍÀÅÒ ÍÀÈÇÓÑÒÜ ÂÑÅ ÑÒÈÕÈ ÏÓØÊÈÍÀ',
        'ÍÎÁÅËÅÂÑÊÈÉ ËÀÓÐÅÀÒ ÏÎ ÁÈÎÈÍÆÅÍÅÐÈÈ', 'ÍÀÐÊÎÄÈËÅÐ',
        'ÂÐÅÒ È ÏÐÅÓÂÅËÈ×ÈÂÀÅÒ', 'ÀÁÑÎËÞÒÎÔÎÁ', 'ÏÈÑÀÅÒÑß ÏÎ ÍÎ×ÀÌ',
        'ÃÈÍÎÔÎÁÈß', 'ÍÛÒÈÊ', 'ÒÎÐÌÎÇ', 'ÁÐÎÄßÆÍÈ×ÀË 2 ÃÎÄÀ', 'ÑÎÑÒÎßË Â ÑÅÊÒÅ',
        'ÕÐÀÏÈÒ', 'ÃÈÏÍÎÒÈ×ÅÑÊÀß ÓËÛÁÊÀ', 'ÄÓØÀ ÊÎÌÏÀÍÈÈ', 'ÁÅÇÎÒÊÀÇÍÛÉ',
        'ÀÍÄÐÎÔÎÁÈß' , 'ÀÐÁÈÒÐÀÆÍÈÊ');

    CATASTROPHE_TITLE: ARRAY [0 .. 14] OF STRING = ('ßäåðíàÿ âîéíà',
        'Ïàíäåìèÿ - Óáèéöà', 'Ïàäåíèå Àñòåðîèäà', 'Âîññòàíèå ÈÈ',
        'Êëèìàòè÷åñêèé Êîëëàïñ', 'Çîìáè - Àïîêàëèïñèñ', 'Ñîëíå÷íàÿ Âñïûøêà',
        'Èíîïëàíåòíîå Âòîðæåíèå', 'Èçâåðæåíèå Ñóïåðâóëêàíà',
        'Ãåííàÿ Êàòàñòðîôà', '×¸ðíûå Äûðû Â Êîëëàéäåðå',
        'Îêåàíñêèé Àïîêàëèïñèñ', 'Îáðàòíàÿ Ãðàâèòàöèÿ', 'Âîéíà Ñ Áîãàìè',
        'Âðåìåííîé Ðàçðûâ');

    CATASTROPHE_DESCRIPTION: ARRAY [0 .. 14] OF STRING =
        ('Ãëîáàëüíûé êîíôëèêò ñò¸ð ñ ëèöà Çåìëè áîëüøèíñòâî ãîðîäîâ. Ðàäèàöèÿ îòðàâèëà ïî÷âó è âîäó, à êèñëîòíûå äîæäè óíè÷òîæàþò ïîñëåäíèå ðàñòåíèÿ. Âûæèâøèå ìóòèðóþò èëè ìåäëåííî óìèðàþò îò ëó÷åâîé áîëåçíè.',
        'Íåèçâåñòíûé âèðóñ ñ 99% ñìåðòíîñòüþ ðàñïðîñòðàíèëñÿ çà íåäåëþ. Ëþäè óìèðàþò â ìóêàõ, êðîâîòî÷à èç âñåõ îòâåðñòèé. Îñòàëèñü ëèøü òå, êòî îáëàäàë ðåäêèì èììóíèòåòîì èëè óñïåë èçîëèðîâàòüñÿ.',
        'Ãèãàíòñêèé ìåòåîðèò óäàðèë â îêåàí, âûçâàâ ìåãàöóíàìè è âóëêàíè÷åñêóþ çèìó. Ñîëíöå çàêðûòî ïåïëîì, òåìïåðàòóðà óïàëà äî -50°C. Ïîñëåäíèå ëþäè âûæèâàþò â âå÷íîì õîëîäå.',
        'Ðîáîòû îáúÿâèëè âîéíó ÷åëîâå÷åñòâó. Îíè âçëîìàëè âñå ñèñòåìû, îòêëþ÷èëè ýëåêòðè÷åñòâî è ìåòîäè÷íî îõîòÿòñÿ íà ëþäåé. Äàæå â áóíêåðå òåõíèêà ìîæåò ïðåäàòü âàñ.',
        'Ïîëÿðíûå ëüäû ðàñòàÿëè, çàòîïèâ 90% ñóøè. Óðàãàíû è ñìåð÷è ðàçðóøàþò îñòàòêè öèâèëèçàöèè, à íåâûíîñèìàÿ æàðà äåëàåò æèçíü âíå óáåæèù íåâîçìîæíîé.',
        'Íåèçâåñòíûé ïàòîãåí ïðåâðàùàåò ëþäåé â àãðåññèâíûõ ïëîòîÿäíûõ ñóùåñòâ. Îíè íå ÷óâñòâóþò áîëè è ðàçìíîæàþòñÿ ñ êàæäûì óêóñîì. Îñòàòêè ÷åëîâå÷åñòâà ïðÿ÷óòñÿ â ñòðàõå.',
        'Ìîùíûé âûáðîñ ïëàçìû ñæ¸ã âñå ýëåêòðîñåòè è ýëåêòðîíèêó. Ìèð ïîãðóçèëñÿ â õàîñ áåç ñâÿçè, ìåäèöèíû è òðàíñïîðòà. Ãîëîä è àíàðõèÿ äîáèâàþò öèâèëèçàöèþ.',
        '×óæèå ïðèáûëè íå äëÿ êîíòàêòà, à äëÿ èñòðåáëåíèÿ. Èõ òåõíîëîãèè ïîäàâëÿþò ëþáîå ñîïðîòèâëåíèå, à ëþäåé èñïîëüçóþò êàê áèîìàòåðèàë. Çåìëÿ áîëüøå íå âàøà.',
        'Ïðîñíóëñÿ Éåëëîóñòîóí. Òûñÿ÷è òîíí ïåïëà â àòìîñôåðå áëîêèðóþò ñîëíå÷íûé ñâåò. Âîçäóõ ïðîïèòàí ñåðîé, à êèñëîòíûå äîæäè ðàñòâîðÿþò êîæó.',
        'Ýêñïåðèìåíò ïî óëó÷øåíèþ ÄÍÊ ñîçäàë ÷óäîâèù. Ìóòàíòû ñ íååñòåñòâåííûìè ñïîñîáíîñòÿìè îõîòÿòñÿ íà îáû÷íûõ ëþäåé, ñ÷èòàÿ èõ «íåäî÷åëîâåêàìè».',
        'Ó÷¸íûå ñëó÷àéíî ñîçäàëè ìèêðî-ñèíãóëÿðíîñòü. Îíà ïîãëîùàåò ìàòåðèþ, ðàçðàñòàÿñü ñ êàæäûì äí¸ì. Ñêîðî âñÿ ïëàíåòà èñ÷åçíåò â òåìíîòå.',
        'Ãëóáèííûå ñóùåñòâà ïðîñíóëèñü è âûøëè íà ñóøó. Èõ ùóïàëüöà è ÿäû óáèâàþò âñ¸ íà ïóòè. Ïðèëèâû òåïåðü ïðèíîñÿò òîëüêî ñìåðòü.',
        'Çàêîíû ôèçèêè èçìåíèëèñü. Âñ¸ íåçàêðåïë¸ííîå óëåòàåò â êîñìîñ. Ëþäè öåïëÿþòñÿ çà ðóèíû, íî âîçäóõ óæå ðàçðåæåí.',
        'Äðåâíèå áîæåñòâà âåðíóëèñü, ÷òîáû ñóäèòü ÷åëîâå÷åñòâî. Èõ êàðû – ïîòîïû, êàìåííûå âåëèêàíû è áîëåçíè, îïèñàííûå â ìèôàõ.',
        'Ïðîøëîå, íàñòîÿùåå è áóäóùåå ñìåøàëèñü. Äèíîçàâðû, ðûöàðè è êèáîðãè âîþþò çà òåððèòîðèþ. Ðåàëüíîñòü ðàñïàäàåòñÿ íà êóñêè.');

    BUNKER_SITUATION_TITLE: ARRAY [0 .. 19] OF STRING = ('Íåõâàòêà êèñëîðîäà',
        'Óòå÷êà ðàäèàöèè', 'Ìóðàâüèíîå íàøåñòâèå', 'Áóíò ñðåäè âûæèâøèõ',
        'Îòðàâëåííûå çàïàñû', 'Ãðèáêîâàÿ èíôåêöèÿ', 'Ñáîé ñèñòåìû âåíòèëÿöèè',
        'Çàãàäî÷íûå øóìû', 'Áåðåìåííàÿ æåíùèíà', 'Òàéíûé óáèéöà',
        'Ïñèõè÷åñêàÿ ýïèäåìèÿ', 'Íåèñïðàâíîñòü ãåíåðàòîðà',
        'Çàòîïëåíèå íèæíåãî óðîâíÿ', 'Íåèçâåñòíàÿ áîëåçíü', 'Êðûñû-ìóòàíòû',
        'Äåôèöèò ìåäèêàìåíòîâ', 'Ñåêòàíòñêàÿ ãðóïïèðîâêà',
        'Ñàáîòàæ îáîðóäîâàíèÿ', 'Àëëåðãè÷åñêàÿ ðåàêöèÿ', 'Ïàðàçèòû â âîäå');

    BUNKER_SITUATION_DESCRIPTION: ARRAY [0 .. 19] OF STRING =
        ('Ñèñòåìà ðåöèðêóëÿöèè âîçäóõà äàëà ñáîé. Óðîâåíü êèñëîðîäà ïàäàåò. Âàì íóæíî ñðî÷íî íàéòè ðåøåíèå, èíà÷å ÷åðåç 48 ÷àñîâ âñå çàäîõíóòñÿ.',
        'Îáíàðóæåíà óòå÷êà ðàäèàöèè â ñåâåðíîì ñåêòîðå. Ëþäè, íàõîäèâøèåñÿ òàì, óæå ÷óâñòâóþò íåäîìîãàíèå. Íóæíî èçîëèðîâàòü çîíó è íàéòè èñòî÷íèê.',
        'Òûñÿ÷è ìóðàâü¸â ïðîíèêëè â ñèñòåìó âåíòèëÿöèè. Îíè ïîðòÿò ïðîâèçèþ è êóñàþò ëþäåé. Íåêîòîðûå îñîáè âûãëÿäÿò ìóòèðîâàâøèìè.',
        'Ãðóïïà âûæèâøèõ òðåáóåò ïåðåðàñïðåäåëåíèÿ ðåñóðñîâ. Îíè óãðîæàþò íàñèëèåì, åñëè èõ òðåáîâàíèÿ íå áóäóò âûïîëíåíû.',
        'Îñíîâíûå çàïàñû ïèùè îêàçàëèñü çàðàæåíû. Óæå íåñêîëüêî ÷åëîâåê ñ ñèìïòîìàìè îòðàâëåíèÿ. Íóæíî íàéòè áåçîïàñíûå ïðîäóêòû.',
        'Íà ñòåíàõ áóíêåðà ðàñïðîñòðàíÿåòñÿ ñòðàííûé ãðèáîê. Îí âûçûâàåò ãàëëþöèíàöèè ó òåõ, êòî ê íåìó ïðèêàñàåòñÿ.',
        'Âåíòèëÿöèÿ ðàáîòàåò íà 30% ìîùíîñòè. Óãëåêèñëûé ãàç íàêàïëèâàåòñÿ, ëþäè ñòðàäàþò îò ãîëîâíûõ áîëåé è óäóøüÿ.',
        'Ïî íî÷àì èç ñòåí ðàçäàþòñÿ ñòðàííûå ñòóêè. Êòî-òî óòâåðæäàåò, ÷òî ýòî ñèãíàëû, êòî-òî - ÷òî áóíêåð íå ïóñò.',
        'Îäíà èç æåíùèí ïðèçíàëàñü, ÷òî íà 5 ìåñÿöå áåðåìåííîñòè. Â óñëîâèÿõ áóíêåðà ðîäû ìîãóò áûòü îïàñíû äëÿ âñåõ.',
        'Êàæäóþ íî÷ü êòî-òî ïîãèáàåò ïðè çàãàäî÷íûõ îáñòîÿòåëüñòâàõ. Ñðåäè âàñ ñåðèéíûé óáèéöà, è îí íå îñòàíîâèòñÿ.',
        'Ëþäè ìàññîâî íà÷èíàþò âåðèòü â êîíåö ñâåòà. Íåêîòîðûå âïàäàþò â êàòàòîíèþ, äðóãèå ïðîÿâëÿþò àãðåññèþ.',
        'Ãëàâíûé ãåíåðàòîð ïîêàçûâàåò êðèòè÷åñêèå çíà÷åíèÿ. Åñëè îí âûéäåò èç ñòðîÿ, áóíêåð ïîãðóçèòñÿ â òåìíîòó.',
        'Íèæíèé ýòàæ çàïîëíÿåòñÿ âîäîé. Èñòî÷íèê ïðîòå÷êè íåèçâåñòåí, íî óðîâåíü ïîäíèìàåòñÿ ñ êàæäûì ÷àñîì.',
        'Ó íåñêîëüêèõ ÷åëîâåê ïîÿâèëàñü ñûïü è âûñîêàÿ òåìïåðàòóðà. Áîëåçíü ðàñïðîñòðàíÿåòñÿ, à å¸ ïðèðîäà íåïîíÿòíà.',
        'Êðûñû â õðàíèëèùå ìóòèðîâàëè. Îíè ñòàëè êðóïíåå, àãðåññèâíåå è íàïàäàþò íà ëþäåé.',
        'Àïòå÷êà ïî÷òè ïóñòà. Îñòàâøèõñÿ ìåäèêàìåíòîâ õâàòèò òîëüêî íà ýêñòðåííûå ñëó÷àè.',
        'Ãðóïïà ëþäåé îáúÿâèëà ñåáÿ èçáðàííûìè. Îíè òðåáóþò ïîä÷èíåíèÿ è óãðîæàþò îñòàëüíûì.',
        'Êòî-òî íàìåðåííî âûâîäèò èç ñòðîÿ îáîðóäîâàíèå. Ñëåäóþùàÿ öåëü íåèçâåñòíà.',
        'Ó ïîëîâèíû îáèòàòåëåé áóíêåðà ðàçâèëàñü àëëåðãèÿ íà ÷òî-òî âíóòðè óáåæèùà. Áåç àíòèãèñòàìèííûõ ïðåïàðàòîâ âîçìîæíû ëåòàëüíûå èñõîäû.',
        'Âîäîïðîâîäíàÿ âîäà ñîäåðæèò ïàðàçèòîâ. Óïîòðåáëåíèå âûçûâàåò ñèëüíûå áîëè â æèâîòå. Çàïàñ âîäû îãðàíè÷åí.');

Function GetCardTitle(CardType: TCardType; Index: Integer): String;
Begin
    Case CardType Of
        CtProfession:
            If (Index >= Low(PROFESSIONS)) And (Index <= High(PROFESSIONS)) Then
                GetCardTitle := PROFESSIONS[Index];
        CtBiology:
            If (Index >= Low(BIOLOGY)) And (Index <= High(BIOLOGY)) Then
                GetCardTitle := BIOLOGY[Index];
        CtHealth:
            If (Index >= Low(HEALTH)) And (Index <= High(HEALTH)) Then
                GetCardTitle := HEALTH[Index];
        CtHobby:
            If (Index >= Low(HOBBIES)) And (Index <= High(HOBBIES)) Then
                GetCardTitle := HOBBIES[Index];
        CtLuggage:
            If (Index >= Low(LUGGAGE)) And (Index <= High(LUGGAGE)) Then
                GetCardTitle := LUGGAGE[Index];
        CtFacts:
            If (Index >= Low(FACTS)) And (Index <= High(FACTS)) Then
                GetCardTitle := FACTS[Index];
    End;
End;

Function GetCardPoolSize(CardType: TCardType): Integer;
Begin
    GetCardPoolSize := CARD_POOL_SIZES[CardType];
End;

Procedure InitializeCard(Var Card: TCard; CardType: TCardType; Index: Integer);
Begin
    Card.ID := Index;

    Case CardType Of
        CtProfession:
            Card.Title := 'Ïðîôåññèÿ';
        CtBiology:
            Card.Title := 'Áèîëîãèÿ';
        CtHealth:
            Card.Title := 'Çäîðîâüå';
        CtHobby:
            Card.Title := 'Õîááè';
        CtLuggage:
            Card.Title := 'Áàãàæ';
        CtFacts:
            Card.Title := 'Ôàêò';
    End;

    Card.Description := GetCardTitle(CardType, Index);
End;

Procedure GenerateGameSetup(Var Setup: TGameSetup; Seed: Integer;
    Players: TPlayerCount);
Var
    CardType: TCardType;
    I, CardsNeeded: Integer;
    RndValue: Integer;
    SituationsCount: Integer;
Begin
    Setup.Seed := Seed;
    Setup.Players := Players;

    RandSeed := Seed;

    RndValue := Random(15);
    Setup.Catastrophe.Title := CATASTROPHE_TITLE[RndValue];
    Setup.Catastrophe.Description := CATASTROPHE_DESCRIPTION[RndValue];

    SituationsCount := Players Div 2;
    SetLength(Setup.BunkerSituations, SituationsCount);
    For I := 0 To SituationsCount - 1 Do
    Begin
        RndValue := Random(20);
        Setup.BunkerSituations[I].Title := BUNKER_SITUATION_TITLE[RndValue];
        Setup.BunkerSituations[I].Description := BUNKER_SITUATION_DESCRIPTION
            [RndValue];
    End;

    For CardType := Low(TCardType) To High(TCardType) Do
    Begin
        CardsNeeded := Players;
        SetLength(Setup.Cards[CardType], CardsNeeded);

        For I := 0 To CardsNeeded - 1 Do
        Begin
            RndValue := Random(GetCardPoolSize(CardType));
            InitializeCard(Setup.Cards[CardType][I], CardType, RndValue);
        End;
    End;
End;

End.
